!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t,i){"use strict";class r{constructor(e,t,i,r,n,c,o,a){this.id=e,this.src=t,this.desc=i,this.style=r,this.colour=n,this.size=c,this.quantity=o,this.price=a}}t.a=class{constructor(){this.serviceUrl="http://localhost:3000/item"}async findAll(){try{const e=await fetch(this.serviceUrl);if(200!==e.status&&201!==e.status)throw new Error(e.statusText);return await e.json()}catch(e){throw e}}async findById(e){try{const t=await fetch(`${this.serviceUrl}?id=${e}`);if(200!==t.status&&201!==t.status)throw new Error(t.statusText);return await t.json()}catch(e){throw e}}async update(e,t,i,n,c,o,a,l){try{const s=new r(e,t,i,n,c,o,a,l),d=await fetch(`${this.serviceUrl}/${e}`,{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});if(200!==d.status&&201!==d.status)throw new Error(d.statusText);return await d.json()}catch(e){throw e}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _ItemService__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const itemService=new _ItemService__WEBPACK_IMPORTED_MODULE_0__.a;class ItemComponent{constructor(e){this.itemService=e}editLink(){document.getElementById("overlay").style.display="block"}findAllItems(){itemService.findAll().then(res=>{let price=0;res.forEach(element=>{let item=document.createElement("div");item.className="item",item.dataset.attr=element.id,document.querySelector(".item-list").appendChild(item);let imageDiv=document.createElement("div");imageDiv.className="item-image",item.appendChild(imageDiv);let image=document.createElement("img");image.src=element.src,image.height=175,image.width=150,imageDiv.appendChild(image);let desc=document.createElement("div");desc.className="description",item.appendChild(desc);let itemDesc=document.createElement("div");itemDesc.className="item-desc",itemDesc.innerHTML="<p><strong>"+element.desc+"</strong></p><p>STYLE #: "+element.style+"</p><p>Colour: "+element.colour+"</p>",desc.appendChild(itemDesc);let itemSize=document.createElement("div");itemSize.className="item-size",itemSize.innerHTML='<label class="size-label">SIZE:</label><span>'+element.size+"</span>",desc.appendChild(itemSize);let itemQty=document.createElement("div");itemQty.className="item-qty",itemQty.innerHTML='<label class="qty-label">QTY:</label><input type="text" value="'+element.quantity+'">',desc.appendChild(itemQty);let itemPrice=document.createElement("div");itemPrice.className="item-price",itemPrice.innerHTML="$"+element.price+".00",desc.appendChild(itemPrice);let links=document.createElement("div");links.className="links",links.innerHTML='<ul><li><a href="#" class="editLink" data-attr="'+element.id+'">EDIT</a></li><li><a href="#">REMOVE</a></li><li><a href="#">SAVE FOR LATER</a></li></ul>',item.parentNode.appendChild(links),price=eval(price+element.price)}),document.querySelector(".estPrice").innerText="$"+price+".00",document.querySelector(".totalPrice").innerText="$"+(price-7)+".00"}).catch(e=>console.log(e.message))}findItemById(e){itemService.findById(e).then(e=>{e.forEach(e=>{document.querySelector(".hiddenAttr").value=e.id,document.querySelector(".hiddenAttr").dataset.attr=e.style,document.querySelector(".editDesc").innerText=e.desc,document.querySelector(".editPrice .amount").innerText=e.price,document.querySelector(".editcolour").innerHTML=e.colour.toUpperCase()+'<div style="background:'+e.colour+';"></div>',document.querySelector(".edit .sizeList").value=e.size,document.querySelector(".edit .qtyList").value=e.quantity,document.querySelector(".editImage").src=e.src,document.querySelector(".editImage").alt=e.desc})}).catch(e=>console.log(e.message))}updateItem(e,t,i,r,n,c,o,a){itemService.update(e,t,i,r,n,c,o,a).then(e=>{const t=document.querySelector('.item[data-attr="'+e.id+'"]');t.querySelector(".item-size span").innerText=c,t.querySelector(".item-qty input").value=o,t.querySelector(".item-price").innerText="$"+a+".00",document.getElementById("overlay").style.display="none"}).catch(e=>console.log(e.message))}}__webpack_exports__.a=ItemComponent},function(e,t,i){"use strict";i.r(t);var r=i(1),n=i(0);const c=new r.a(n.a);window.onload=function(){c.findAllItems(),setTimeout(()=>{!function(){const e=document.getElementsByClassName("editLink");Array.prototype.forEach.call(e,e=>{e.addEventListener("click",t=>{const i=e.dataset.attr;c.findItemById(i),document.getElementById("overlay").style.display="block"})})}()},1e3),document.querySelector(".close").addEventListener("click",e=>{event.stopPropagation(),document.getElementById("overlay").style.display="none"}),document.querySelector("#editButton").addEventListener("click",e=>{event.stopPropagation();const t=document.querySelector(".hiddenAttr").value,i=document.querySelector(".editDesc").innerText;var r=document.querySelector(".editImage").src;const n=document.querySelector(".hiddenAttr").dataset.attr,o=document.querySelector(".editcolour").innerText,a=document.querySelector(".edit .sizeList").value,l=document.querySelector(".edit .qtyList").value,s=document.querySelector(".editPrice .amount").innerText;c.updateItem(t,r,i,n,o,a,l,l*s)})}}]);